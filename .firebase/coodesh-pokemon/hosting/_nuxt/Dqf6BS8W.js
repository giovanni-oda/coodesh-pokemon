import{x as _,_ as h,o as p,c as d,y as l,d as g,z as k,k as y,n as E,b as m,A as C}from"./CFvu_ptE.js";const i=_("main",{state:()=>({loading:!1,pkChipColors:[{type:"POISON",color:"#AF08FE"},{type:"GRASS",color:"#08FEC3"},{type:"WATER",color:"#00A3FF"},{type:"FIRE",color:"#FE0808"},{type:"ELECTRIC",color:"#FFB800"},{type:"GROUND",color:"#85826E"},{type:"FAIRY",color:"#FBA1EC"},{type:"NORMAL",color:"#C4C4C4"},{type:"FLYING",color:"#5317FC"},{type:"DEFAULT",color:"#0E0E0E"}]}),getters:{isLoading:e=>e.loading},actions:{getChipColor(e){const o=this.pkChipColors.find(t=>t.type===e);return o?o.color:"#0E0E0E"}}}),B=_("pokemon",{state:()=>({pokemon:null,pokemons:[],paginate:null,searchResult:null}),getters:{},actions:{async getPokemons(){var o,t;const e=i();try{e.loading=!0;let s=null;if(!((o=this.paginate)!=null&&o.next))s=await $fetch("/api/pokemon");else{const n=this.paginate.next;s=await $fetch("/api/pokemon"+n.substring(n.indexOf("?")))}if(((t=s==null?void 0:s.results)==null?void 0:t.length)>0){const n={count:s.count,next:s.next,previous:s.previous,urls:[]};s.results.forEach(a=>{n.urls.push(a.url)}),this.paginate=n;const r=[];if(n.urls.length>0){n.urls.forEach(c=>{const f=$fetch(`/api/pokemon/${$(c)}`);r.push(f)});const a=await Promise.all(r);a.length>0&&a.forEach(c=>{this.pokemons.push(u(c))})}}e.loading=!1}catch(s){return e.loading=!1,console.error(s),s}},async getPokemonAbilities(e){const o=i();try{o.loading=!0;const t=[];e.abilities.length>0&&e.abilities.forEach(r=>{const a=$fetch(`/api/ability/${r.toLowerCase()}`);t.push(a)});const s=await Promise.all(t),n=[];s.forEach(r=>{const c=r.effect_entries.find(f=>f.language.name==="en").short_effect;n.push(c)}),this.pokemon&&(this.pokemon.effects=n),o.loading=!1}catch(t){return o.loading=!1,console.error(t),t}},async getPokemon(e){const o=i();try{o.loading=!0;const t=await $fetch(`/api/pokemon/${e}`);this.pokemon=u(t),o.loading=!1}catch(t){return this.pokemon=void 0,o.loading=!1,console.error(t),t}},async searchPokemon(e){const o=i(),t=e+"";try{o.loading=!0;const s=await $fetch(`/api/pokemon/${t.toLowerCase()}`);this.searchResult=[u(s)],o.loading=!1}catch(s){return this.searchResult=[],o.loading=!1,console.error(s),s}}}});function $(e){const o=e.endsWith("/")?e.slice(0,-1):e,t=o.lastIndexOf("/");return o.slice(t+1)}function u(e){return{id:e.id,name:e.name,photoUrl:e.sprites.other["official-artwork"].front_default,types:e.types.map(t=>t.type.name.toUpperCase()),abilities:e.abilities.map(t=>t.ability.name.charAt(0).toUpperCase()+t.ability.name.slice(1)),effects:[]}}const P={},v={class:"flex justify-center font-bold bg-white p-8 border rounded-lg mt-8"};function F(e,o){return p(),d("div",v,[l(e.$slots,"default")])}const U=h(P,[["render",F]]),N=g({__name:"PokemonChip",props:{type:{}},setup(e){const o=e,t=i();return(s,n)=>(p(),d("div",{class:"pk-chip",style:k({backgroundColor:y(t).getChipColor(o.type||"DEFAULT")})},[l(s.$slots,"default")],4))}}),w={key:0,class:"pk-card-img"},S={class:"pk-card-content"},x={class:"pk-card-footer"},A=g({__name:"PokemonCard",props:{isLarge:{type:Boolean,default:!1},hasImage:{type:Boolean,default:!0}},setup(e){const o=e;return(t,s)=>(p(),d("div",{class:C(["pk-card",{"card-detail":o.isLarge,"card-default":!o.isLarge}])},[t.hasImage?(p(),d("div",w,[l(t.$slots,"image",{},void 0,!0)])):E("",!0),m("div",S,[l(t.$slots,"default",{},void 0,!0)]),m("div",x,[l(t.$slots,"footer",{},void 0,!0)])],2))}}),z=h(A,[["__scopeId","data-v-d07fc88f"]]),L={},R={class:"loader"};function b(e,o){return p(),d("div",R)}const D=h(L,[["render",b],["__scopeId","data-v-0a6a4a43"]]);export{N as _,z as a,i as b,U as c,D as d,B as u};
