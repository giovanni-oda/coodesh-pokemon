import{p as T,d as y,r as S,w as B,o as a,c as _,a as E,v as N,b as n,e as V,u as A,f,F as w,g as C,h as b,i as h,t as k,j as I,k as m,l as M,m as x,n as g}from"./CFvu_ptE.js";import{u as $,_ as U,a as j,b as L,c as D,d as F}from"./Dqf6BS8W.js";const K=T("/SearchIcon.svg"),O={class:"mt-2 relative"},q=n("img",{src:K,alt:"Search Icon",width:"18px",class:"absolute top-5 left-[20px] block sm:hidden"},null,-1),X=y({__name:"PokemonSearchBar",setup(P){const t=$(),s=S("");let c=0;B(s,l=>{l!==""?u():(r(),t.searchResult=null)});function i(){s.value="",t.searchResult=null}function d(){r(),t.searchPokemon(s.value)}function u(){c&&r(),c=setTimeout(()=>{t.searchPokemon(s.value)},1e3)}function r(){clearTimeout(c),c=null}return(l,o)=>(a(),_("div",O,[q,E(n("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>s.value=e),type:"text",name:"search",placeholder:"Pesquise por nome ou código",class:"rounded-full p-4 w-full indent-[30px] border border-[#E1E1E1]",onKeypress:o[1]||(o[1]=V(e=>d(),["enter"]))},null,544),[[N,s.value]]),n("span",{class:"font-bold absolute top-5 right-[35px] cursor-pointer hidden sm:block",onClick:o[2]||(o[2]=e=>i())}," X ")]))}}),z={class:"mt-8 grid grid-cols-2 sm:grid-cols-5 sm:gap-4"},G=["src","alt"],H={class:"text-center"},J={class:"text-[9px] mt-2"},Q=y({__name:"PokemonList",setup(P){const t=$(),s=A(),c=f(()=>t.pokemons),i=f(()=>t.searchResult?t.searchResult:t.pokemons);function d(u){const r=c.value.find(l=>l.id===u);r?t.pokemon=r:t.pokemon=null,t.searchResult=null,s.push(`/pokemon/${u}`)}return(u,r)=>{const l=U,o=j;return a(),_("div",z,[(a(!0),_(w,null,C(m(i),(e,v)=>(a(),b(o,{key:`${v}-${e.id}`,onClick:p=>d(e.id),class:"cursor-pointer"},{image:h(()=>[n("img",{src:e.photoUrl,alt:`Pokemon ${e.name} image`,class:"h-[48px]"},null,8,G)]),default:h(()=>[n("span",H,k(e&&e.name?(e==null?void 0:e.name.charAt(0).toUpperCase())+(e==null?void 0:e.name.slice(1)):""),1),n("span",J,"Cod. "+k(e.id),1)]),footer:h(()=>[(a(!0),_(w,null,C(e.types,(p,R)=>(a(),b(l,{key:R,type:p},{default:h(()=>[I(k(p),1)]),_:2},1032,["type"]))),128))]),_:2},1032,["onClick"]))),128))])}}}),W={class:"container mx-auto p-4 max-w-[860px]"},Y=n("div",{class:"mt-14 hidden sm:block"},[n("h3",{class:"font-bold"},"Pokémons")],-1),Z={key:0},ee=n("p",null,"Nenhum resultado encontrado!",-1),te={key:1,class:"flex justify-center mt-8"},se={class:"flex justify-center my-8"},ae=y({__name:"index",setup(P){const t=L(),s=$(),c=S(),i=f(()=>t.loading),d=f(()=>s.pokemons);async function u(){i.value===!1&&await s.getPokemons()}return M(async()=>{d.value.length<=0&&await s.getPokemons(),new IntersectionObserver(l=>{l[0].isIntersecting&&u()}).observe(c.value)}),(r,l)=>{const o=X,e=D,v=Q,p=F;return a(),_("div",W,[x(o,{disabled:m(i)},null,8,["disabled"]),Y,m(d).length>0?(a(),_("div",Z,[m(s).searchResult&&m(s).searchResult.length<=0?(a(),b(e,{key:0},{default:h(()=>[ee]),_:1})):g("",!0),x(v)])):g("",!0),m(i)?(a(),_("div",te,[x(p)])):g("",!0),n("div",se,[n("div",{ref_key:"scrollAnchor",ref:c},null,512)])])}}});export{ae as default};
